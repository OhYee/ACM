---
title: HYSBZ 1002.轮状病毒
date: 2016-09-09 21:02:57
categories: 题解
tags: 
 - HYSBZ
 - 高精度算法
 - 数学
---
# 题目
> 
> ## Description  
>> 　　轮状病毒有很多变种，所有轮状病毒的变种都是从一个轮状基产生的。一个N轮状基由圆环上N个不同的基原子  
>> 和圆心处一个核原子构成的，2个原子之间的边表示这2个原子之间的信息通道。如下图所示  
>>   ![](http://www.lydsy.com/JudgeOnline/upload/201604/1%283%29.png)
>>   
>> 　　N轮状病毒的产生规律是在一个N轮状基中删去若干条边，使得各原子之间有唯一的信息通道，例如共有16个不  
>> 同的3轮状病毒，如下图所示  
>>   ![](http://www.lydsy.com/JudgeOnline/upload/201604/2%283%29.png)
>>   
>> 　　现给定n(N<=100)，编程计算有多少个不同的n轮状病毒  
>> <!--more-->  
> 
> ## Input  
>> 　　第一行有1个正整数n  
>>   
> 
> ## Output  
>> 　　计算出的不同的n轮状病毒数输出  
>>   
> 
> ## Sample Input  
>> 3  
> 
> ## Sample Output  
>> 16  


# 题解

可以画出 `4` 时为 `45`  
也即  

|n|结果|
|:--:|:--:|
|1|1|
|2|5|
|3|16|
|4|45|

可以找到 `dp[i] = dp[i-1] * 3 - dp[i-2] + 2` 的规律  

*虽然很难找,但是通过分类画图,应该能得出一部分,再加上猜测或许能找到规律*  

由于最后结果很大,因此需要 **高精度计算**  

*模板的减法有问题,耽误了好久*  

# 代码
```cpp 轮状病毒 https://github.com/OhYee/ACM.github.io/blob/master/HYSBZ/1002.%C2%D6%D7%B4%B2%A1%B6%BE.cpp 代码备份
/*
By:OhYee
Github:OhYee
Blog:http://www.oyohyee.com/
Email:oyohyee@oyohyee.com

かしこいかわいい？
エリーチカ！
要写出来Хорошо的代码哦~
*/
#include <cstdio>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <iomanip>
#include <iostream>
#include <map>
#include <set>
#include <list>
#include <queue>
#include <stack>
#include <string>
#include <vector>
#include <bitset>
#include <functional>

using namespace std;

typedef long long LL;

const int INF = 0x7FFFFFFF;
const double eps = 1e-10;

string ans[] = {"0","1","5","16","45","121","320","841","2205","5776","15125","39601","103680","271441","710645","1860496","4870845","12752041","33385280","87403801","228826125","599074576","1568397605","4106118241","10749957120","28143753121","73681302245","192900153616","505019158605","1322157322201","3461452808000","9062201101801","23725150497405","62113250390416","162614600673845","425730551631121","1114577054219520","2918000611027441","7639424778862805","20000273725560976","52361396397820125","137083915467899401","358890350005878080","939587134549734841","2459871053643326445","6440026026380244496","16860207025497407045","44140595050111976641","115561578124838522880","302544139324403592001","792070839848372253125","2073668380220713167376","5428934300813767249005","14213134522220588579641","37210469265847998489920","97418273275323406890121","255044350560122222180445","667714778405043259651216","1748099984655007556773205","4576585175559979410668401","11981655542024930675232000","31368381450514812615027601","82123488809519507169850805","215002084978043708894524816","562882766124611619513723645","1473646213395791149646646121","3858055874062761829426214720","10100521408792494338631998041","26443508352314721186469779405","69230003648151669220777340176","181246502592140286475862241125","474509504128269190206809383201","1242282009792667284144565908480","3252336525249732662226888342241","8514727565956530702536099118245","22291846172619859445381409012496","58360810951903047633608127919245","152790586683089283455442974745241","400010949097364802732720796316480","1047242260609005124742719414204201","2741715832729650571495437446296125","7177905237579946589743592924684176","18791999880010189197735341327756405","49198094402450621003462431058585041","128802283327341673812651951847998720","337208755579574400434493424485411121","882823983411381527490828321608234645","2311263194654570182037991540339292816","6050965600552329018623146299409643805","15841633607002416873831447357889638601","41473935220454921602871195774259272000","108580172054362347934782139964888177401","284266580942632122201475224120405260205","744219570773534018669643532396327603216","1948392131377969933807455373068577549445","5100956823360375782752722586809405045121","13354478338703157414450712387359637585920","34962478192749096460599414575269507712641","91532956239544131967347531338448885552005","239636390525883299441443179440077148943376","627376215338105766356982006981782561278125","1642492255488433999629502841505270534891001"};

bool Do() {
    int n;
    if(!(cin >> n))
        return false;

    cout << ans[n] << endl;
    return true;
}


int main() {
    cin.tie(0);
    cin.sync_with_stdio(false);

    while(Do());

    return 0;
}
```